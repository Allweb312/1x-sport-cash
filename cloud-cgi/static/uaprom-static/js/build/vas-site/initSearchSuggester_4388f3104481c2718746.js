(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["initSearchSuggester"],{"+AhE":function(e,t,n){e.exports={wrapper:"searchSuggester__wrapper--3L30F"}},dwtK:function(e,t,n){"use strict";n.r(t),n.d(t,"initBazooka",(function(){return pe}));var r,o=n("gzb3"),i=n.n(o),c=n("nv8j"),s=n.n(c),u=n("Pefx"),a=n("JWX/"),l="search-suggester",f="ArrowUp",p="ArrowDown",d="Enter",h=n("Ctp0"),y=n.n(h),m=n("qCoa"),v=n("XZYT"),b=n.n(v),O=n("q05z"),g=function(e,t){return e.replace(t,(function(e){return'<span style="color: #c5c9d7">'.concat(e,"</span>")}))},k=n("yJqI"),C=n.n(k);function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n,o){r||(r="function"===typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103);var i=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={children:void 0}),1===c)t.children=o;else if(c>1){for(var s=new Array(c),u=0;u<c;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function E(e){var t=L();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===w(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){x(n,e);var t=E(n);function n(){var e;_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return D(T(e=t.call.apply(t,[this].concat(o))),"handleClickOutside",(function(t){t.target!==e.props.searchInputElement&&e.props.onCloseItemList()})),e}return j(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=t.searchTerm,o=t.activeItemIndex,i=r.replace(/([.?*+^$[(){}|\\])/g,"\\$1"),c=new RegExp(i,"ig");return I("div",{"data-qaid":"suggest"},void 0,n.map((function(t,n){return I("div",{className:b()(C.a.item,D({},C.a.active,o===n)),onClick:e.props.onClickItem(n)},"searchSuggesterItem-".concat(n),I("span",{dangerouslySetInnerHTML:{__html:g(t,c)},"data-qaid":"autocomplete_link"}))})))}}]),n}(i.a.Component),A=Object(O["a"])(K);A.propTypes={items:y.a.array.isRequired,searchTerm:y.a.string.isRequired,isKeyboardMode:y.a.bool.isRequired,onCloseItemList:y.a.func.isRequired,onClickItem:y.a.func.isRequired,activeItemIndex:y.a.number,searchInputElement:y.a.element};var M=n("atis");function q(){var e=$(["\n    query searchSuggesterQuery($searchTerm: String!) {\n        searchSuggester(searchTerm: $searchTerm)\n    }\n"]);return q=function(){return e},e}function $(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B,N=n.n(M)()(q()),U=n("+AhE"),W=n.n(U);function z(e){return(z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n,r){B||(B="function"===typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:B,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}function Z(e){var t=te();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){if(t&&("object"===z(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce,se={searchTerm:"",isVisible:!1,isKeyboardMode:!1,activeItemIndex:null,items:[],offsetTop:0,offsetLeft:0,width:0},ue=function(e){re(n,e);var t=Z(n);function n(e){var r;return X(this,n),ie(ee(r=t.call(this,e)),"handleKeyArrowDown",(function(){if(r.state.searchTerm){var e=r.state.activeItemIndex;r.state.isKeyboardMode?(!e||r.state.items.length>e+1)&&r.setActiveItem(null===e?0:e+1):r.setState({isKeyboardMode:!0,activeItemIndex:0})}})),ie(ee(r),"handleKeyArrowUp",(function(){if(r.state.searchTerm){var e=r.state.activeItemIndex;r.state.isKeyboardMode&&e&&r.setActiveItem(e-1)}})),ie(ee(r),"handleKeyEnter",(function(){r.state.searchTerm&&(r.form.submit(),r.onCloseItemList())})),ie(ee(r),"handleKeyChar",function(){var e;return function(t){return t.target.value===r.state.searchTerm?null:(clearTimeout(e),e=setTimeout((function(){var e=t.target,n=e.value,o=e.offsetWidth,i=e.offsetHeight;if(n){var c=t.target.getBoundingClientRect();r.setState(Y({},se,{searchTerm:n,isVisible:!0,offsetTop:c.top+window.pageYOffset+i,offsetLeft:c.left,width:o}))}else r.setState(Y({},se))}),500),null)}}()),ie(ee(r),"clickListener",(function(e){if(!r.state.isVisible){var t=e.target,n=t.value,o=t.offsetWidth,i=t.offsetHeight;if(n){var c=e.target.getBoundingClientRect();r.setState({isKeyboardMode:!1,activeItemIndex:null,searchTerm:n,isVisible:!0,offsetTop:c.top+window.pageYOffset+i,offsetLeft:c.left,width:o})}}})),ie(ee(r),"keyUpListener",(function(e){switch(e.code){case p:return r.handleKeyArrowDown();case f:return r.handleKeyArrowUp();case d:return r.handleKeyEnter();default:return r.handleKeyChar(e)}})),ie(ee(r),"onCloseItemList",(function(){r.setState({isVisible:!1,isKeyboardMode:!1})})),ie(ee(r),"onClickItem",(function(e){return function(){r.input.value=r.state.items[e],r.form.submit(),r.onCloseItemList()}})),ie(ee(r),"setActiveItem",(function(e){null!==e&&(r.input.value=r.state.items[e]),r.setState({activeItemIndex:e})})),ie(ee(r),"onCompleted",(function(e){r.setState({items:e.searchSuggester})})),r.state=Y({},se),r.form=document.getElementById(e.formId),r.input=document.getElementById(e.inputId),r}return Q(n,[{key:"componentDidMount",value:function(){this.input.addEventListener("keyup",this.keyUpListener),this.input.addEventListener("click",this.clickListener)}},{key:"componentWillUnmount",value:function(){this.input.removeEventListener("keyup",this.keyUpListener),this.input.removeEventListener("click",this.clickListener)}},{key:"render",value:function(){var e=this;if(!this.state.isVisible)return null;var t=this.state,n=t.searchTerm,r=t.isKeyboardMode,o=t.offsetTop,i=t.offsetLeft,c=t.width,s=t.activeItemIndex,u=t.items,l={top:o,left:i,width:c},f={searchTerm:n};return V("div",{className:W.a.wrapper,style:l},void 0,V(a["b"],{query:N,variables:f,onCompleted:this.onCompleted},void 0,(function(t){var o=t.loading,i=t.error;return o||i?null:V(A,{items:u,searchTerm:n,isKeyboardMode:r,onCloseItemList:e.onCloseItemList,onClickItem:e.onClickItem,activeItemIndex:s,searchInputElement:e.input})})))}}]),n}(i.a.Component),ae=function(e){var t=e.inputId,n=e.formId;return V(m["ErrCatch"],{name:"SearchSuggester"},void 0,V(ue,{inputId:t,formId:n}))},le=n("ikt8");function fe(e,t,n,r){ce||(ce="function"===typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:ce,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function pe(e){var t=u["h"].getAttrs(l,e),n=t.inputId,r=t.formId,o=Object(le["a"])();return s.a.render(fe(a["a"],{client:o},void 0,fe(ae,{inputId:n,formId:r})),e)}},q05z:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("gzb3"),o=n("nv8j");function i(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}function c(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(i(e,t,n))return!0;e=e.parentNode}return e}function s(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}function u(e,t,n,r,o,i){return function(u){o&&u.preventDefault(),i&&u.stopPropagation();var a=u.target;r&&s(u)||c(a,e,n)!==document||t(u)}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=[],d=[],h=["touchstart","touchmove"],y="ignore-react-onclickoutside";function m(e,t){var n,i;return i=n=function(n){function i(){var e,t;a(this,i);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t=l(this,n.call.apply(n,[this].concat(o))),t.__outsideClickHandler=null,t.enableOnClickOutside=function(){var e=t.__outsideClickHandler;if(e&&"undefined"!==typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach((function(n){var r=null;-1!==h.indexOf(n)&&(r={passive:!t.props.preventDefault}),document.addEventListener(n,e,r)}))}},t.disableOnClickOutside=function(){var e=t.__outsideClickHandler;if(e&&"undefined"!==typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach((function(t){return document.removeEventListener(t,e)}))}},t.getRef=function(e){return t.instanceRef=e},l(t,e)}return f(i,n),i.prototype.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},i.prototype.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"===typeof t.handleClickOutside){if(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!==typeof this.__clickOutsideHandlerProp)throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.")}else if("function"===typeof e.handleClickOutside)r["Component"].prototype.isPrototypeOf(e)?this.__clickOutsideHandlerProp=e.handleClickOutside.bind(e):this.__clickOutsideHandlerProp=e.handleClickOutside;else{if("function"!==typeof e.props.handleClickOutside)throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.");this.__clickOutsideHandlerProp=e.props.handleClickOutside}null!==Object(o["findDOMNode"])(e)&&this.addOutsideClickHandler()}},i.prototype.componentWillReceiveProps=function(e){this.props.disableOnClickOutside&&!e.disableOnClickOutside?this.enableOnClickOutside():!this.props.disableOnClickOutside&&e.disableOnClickOutside&&this.disableOnClickOutside()},i.prototype.componentDidUpdate=function(){var e=Object(o["findDOMNode"])(this.getInstance());null===e&&this.__outsideClickHandler?this.removeOutsideClickHandler():null===e||this.__outsideClickHandler||this.addOutsideClickHandler()},i.prototype.componentWillUnmount=function(){this.removeOutsideClickHandler()},i.prototype.addOutsideClickHandler=function(){var e=this.__outsideClickHandler=u(Object(o["findDOMNode"])(this.getInstance()),this.__clickOutsideHandlerProp,this.props.outsideClickIgnoreClass,this.props.excludeScrollbar,this.props.preventDefault,this.props.stopPropagation),t=p.length;p.push(this),d[t]=e,this.props.disableOnClickOutside||this.enableOnClickOutside()},i.prototype.removeOutsideClickHandler=function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var e=p.indexOf(this);e>-1&&(d[e]&&d.splice(e,1),p.splice(e,1))},i.prototype.render=function(){var t=this,n=Object.keys(this.props).filter((function(e){return"excludeScrollbar"!==e})).reduce((function(e,n){return e[n]=t.props[n],e}),{});return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(r["createElement"])(e,n)},i}(r["Component"]),n.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:y,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},i}},yJqI:function(e,t,n){e.exports={item:"itemList__item--3wr3E",active:"itemList__active--3eT9K",highlighted:"itemList__highlighted--16dy7"}}}]);